Задача может быть выполнена с удовлетворением минимального количества входных требований. Пример обязательного минимума выполнения задачи указан в конце документа.

Для выполнения задания нельзя использовать сторонние подключаемые библиотеки.

При выполнении использовать php 7.

## Краткое описание

Скрипт, получая на входе 2 файла с описанием иерархии групп товаров и самих товаров и их привязок к группам, должен вывести совместную иерархию групп и товаров.

Дочерние группы связаны с родительскими по полям “родитель”-”id”.

#### Формат входных файлов:

**`groups.csv`**

**_id_** - идентификатор группы, используется для связи с дочерними элементами

**_Наименование_** - наименование группы, должно выводиться как есть

**_родитель_** - идентификатор родительской группы

**_формат описания товаров_** - шаблон вывода описания товара с метками для интерполяции полей товара

**_наследовать дочерним_** - наследовать ли дочерним группам формат описания товаров

**`products.csv`**

_Обязательные поля_

**_id_** - идентификатор товара, не используется в приложении явно

**_group_** - идентификатор группы, к которой относится товар

**_name_** товара

**_price_** - цена товара

## Требования

Программа должна выводить для каждого уровня список групп с их заголовками, товарами и дочерними группами.

_Формат вывода группы_

```html
<h?>Заголовок группы</h?>
<ul>
    <li><b>Описание товара 1 по формату</b></li>
...
    <li><b>Описание товара N по формату</b></li>
    <li>
        [[  Дочерняя группа ]]
    </li>
</ul>
```


Где вместо `[[ Дочерняя группа ]]` рекурсивно отображается описание группы в том же формате.

Заголовок группы должен соответствовать ее уровню. На первом уровне заголовок h1, на втором уровне заголовок h2 и т.д. Табуляция верстки должна соблюдаться. Для табуляции использовать символ `[tab]`.

_Формат описания товара_

Формат описания товара указан на группе и может наследоваться дочерним группам, если это указано в свойстве группы “наследовать дочерним”.

В формате описания товара указаны метки для подстановки свойств товара по наименованию их во входном файле. Если метка в формате ссылается на несуществующее свойство товара, она должна быть заменена на UNDEFINED.

Должна быть возможность указать дополнительные поля в файле products.csv и ссылаться на них метками в формате описания товара.

## Пример входных данных

**group.csv:**

```csv
id;наименование;родитель;формат описания товаров;наследовать дочерним
1;Группа 1;;Купите %наименование% по цене %цена%;1
2;Группа 1.1;1;;0
3;Группа 1.2;1;Покупайте больше %name%;1
4;Группа 1.2.1;3;;0
```

**products.csv:**

```csv
id;категория;наименование;цена;
1;1;супрадин;100
2;2;аспирин;200
3;3;йод;15
4;4;анальгин;20
```

## Пример полного выполнения задачи

```html
<ul>
    <li>
        <h1>Группа 1</h1>
        <ul>
            <li><b>Купите супрадин по цене 100</b></li>
            <li>
                <h2>Группа 1.1</h2>
                <ul>
                    <li><b>Купите аспирин по цене 200</b></li>
                </ul>
            </li>
            <li>
                <h2>Группа 1.2</h2>
                <ul>
                    <li><b>Покупайте больше UNDEFINED</b></li>
                    <li>
                        <h3>Группа 1.2.1</h3>
                        <ul>
                            <li><b>Покупайте больше UNDEFINED</b></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
```

## Пример обязательного минимума выполнения задачи

```text
Группа 1
    Группа 1.1
    Группа 1.2
        Группа 1.2.1
```

# Реализация

Дополнительные поля продукта должны находится после обязательных и иметь названия содержащие символы [a-zA-Z0-9_-]

## Запуск

```shell script
bin/parse
```

**Docker**

```shell script
make run 
```
